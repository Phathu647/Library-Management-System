<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#1E40AF',
                        accent: '#F59E0B'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <i class="fas fa-book text-primary text-2xl mr-3"></i>
                    <h1 class="text-xl font-bold text-gray-900">Library Management System</h1>
                </div>
                <div class="flex items-center space-x-4" id="nav-buttons">
                    <button id="login-btn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                        <i class="fas fa-sign-in-alt mr-2"></i>Login
                    </button>
                    <button id="register-btn" class="border border-primary text-primary px-4 py-2 rounded-lg hover:bg-blue-50 transition">
                        <i class="fas fa-user-plus mr-2"></i>Register
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
        <!-- Login Modal -->
        <div id="login-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg shadow-xl max-w-md w-full">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-gray-900">Login</h2>
                            <button id="close-login" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <form id="login-form">
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" id="login-email" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            <div class="mb-6">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                                <input type="password" id="login-password" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            <button type="submit" class="w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-sign-in-alt mr-2"></i>Login
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Register Modal -->
        <div id="register-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg shadow-xl max-w-md w-full">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-gray-900">Register</h2>
                            <button id="close-register" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <form id="register-form">
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                                <input type="text" id="register-name" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" id="register-email" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Role</label>
                                <select id="register-role" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" required>
                                    <option value="">Select Role</option>
                                    <option value="student">Student</option>
                                    <option value="librarian">Librarian</option>
                                </select>
                            </div>
                            <div class="mb-6">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                                <input type="password" id="register-password" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            <button type="submit" class="w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-user-plus mr-2"></i>Register
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Content -->
        <div id="dashboard" class="hidden">
            <!-- Admin Dashboard -->
            <div id="admin-dashboard" class="hidden">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-2">Admin Dashboard</h2>
                    <p class="text-gray-600">System Overview and Analytics</p>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-blue-100 text-blue-600">
                                <i class="fas fa-book text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Total Books</p>
                                <p class="text-2xl font-bold text-gray-900" id="admin-total-books">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-green-100 text-green-600">
                                <i class="fas fa-users text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Total Users</p>
                                <p class="text-2xl font-bold text-gray-900" id="admin-total-users">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-yellow-100 text-yellow-600">
                                <i class="fas fa-book-reader text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Active Loans</p>
                                <p class="text-2xl font-bold text-gray-900" id="admin-active-loans">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-red-100 text-red-600">
                                <i class="fas fa-exclamation-triangle text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Overdue Books</p>
                                <p class="text-2xl font-bold text-gray-900" id="admin-overdue-books">0</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Admin Overview -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">System Overview</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center py-2 border-b">
                                <span class="text-gray-600">Available Books</span>
                                <span class="font-semibold text-gray-900" id="admin-available-books">0</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b">
                                <span class="text-gray-600">Borrowed Books</span>
                                <span class="font-semibold text-gray-900" id="admin-borrowed-books">0</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b">
                                <span class="text-gray-600">Total Librarians</span>
                                <span class="font-semibold text-gray-900" id="admin-librarians">0</span>
                            </div>
                            <div class="flex justify-between items-center py-2">
                                <span class="text-gray-600">Total Students</span>
                                <span class="font-semibold text-gray-900" id="admin-students">0</span>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Recent Activity</h3>
                        <div id="admin-recent-activity" class="space-y-3">
                            <p class="text-gray-500 text-sm">Loading recent activity...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Librarian Dashboard -->
            <div id="librarian-dashboard" class="hidden">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-2">Librarian Dashboard</h2>
                    <p class="text-gray-600">Manage library operations and view reports</p>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-blue-100 text-blue-600">
                                <i class="fas fa-book text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Total Books</p>
                                <p class="text-2xl font-bold text-gray-900" id="total-books">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-green-100 text-green-600">
                                <i class="fas fa-check-circle text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Available Books</p>
                                <p class="text-2xl font-bold text-gray-900" id="available-books">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-yellow-100 text-yellow-600">
                                <i class="fas fa-clock text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Overdue Books</p>
                                <p class="text-2xl font-bold text-gray-900" id="overdue-books">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="p-3 rounded-full bg-purple-100 text-purple-600">
                                <i class="fas fa-exchange-alt text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm font-medium text-gray-600">Active Loans</p>
                                <p class="text-2xl font-bold text-gray-900" id="active-loans">0</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Librarian Actions -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Book Management</h3>
                        <div class="space-y-3">
                            <button id="add-book-btn" class="w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-plus mr-2"></i>Add New Book
                            </button>
                            <button id="manage-books-btn" class="w-full border border-primary text-primary py-2 px-4 rounded-lg hover:bg-blue-50 transition">
                                <i class="fas fa-edit mr-2"></i>Manage Books
                            </button>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Reports & Analytics</h3>
                        <div class="space-y-3">
                            <button id="overdue-report-btn" class="w-full bg-yellow-500 text-white py-2 px-4 rounded-lg hover:bg-yellow-600 transition">
                                <i class="fas fa-exclamation-triangle mr-2"></i>Overdue Report
                            </button>
                            <button id="borrowing-history-btn" class="w-full border border-primary text-primary py-2 px-4 rounded-lg hover:bg-blue-50 transition">
                                <i class="fas fa-chart-line mr-2"></i>Borrowing History
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Student Dashboard -->
            <div id="student-dashboard" class="hidden">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-2">Student Dashboard</h2>
                    <p class="text-gray-600">Search books, manage your borrowings, and reserve books</p>
                </div>

                <!-- Search Section -->
                <div class="bg-white p-6 rounded-lg shadow mb-8">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Search Books</h3>
                    <div class="flex flex-col md:flex-row gap-4">
                        <input type="text" id="book-search" placeholder="Search by title, author, or ISBN..." 
                               class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                        <select id="category-filter" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="">All Categories</option>
                            <option value="Fiction">Fiction</option>
                            <option value="Non-Fiction">Non-Fiction</option>
                            <option value="Science">Science</option>
                            <option value="History">History</option>
                            <option value="Technology">Technology</option>
                        </select>
                        <button id="search-books-btn" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">
                            <i class="fas fa-search mr-2"></i>Search
                        </button>
                    </div>
                </div>

                <!-- My Borrowed Books -->
                <div class="bg-white p-6 rounded-lg shadow mb-8">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">My Borrowed Books</h3>
                    <div id="borrowed-books-list" class="space-y-3">
                        <!-- Borrowed books will be loaded here -->
                    </div>
                </div>

                <!-- Search Results -->
                <div id="search-results" class="hidden">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Search Results</h3>
                    <div id="books-list" class="space-y-4">
                        <!-- Search results will be loaded here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Overdue Report Modal -->
        <div id="overdue-report-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-gray-900">Overdue Books Report</h2>
                            <button id="close-overdue-report" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <div id="overdue-report-content">
                            <!-- Overdue books will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Borrowing History Modal -->
        <div id="borrowing-history-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-gray-900">Borrowing History</h2>
                            <button id="close-borrowing-history" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <div class="mb-4">
                            <div class="flex flex-col md:flex-row gap-4">
                                <input type="date" id="start-date" class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                                <input type="date" id="end-date" class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                                <button id="filter-history-btn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                    <i class="fas fa-filter mr-2"></i>Filter
                                </button>
                            </div>
                        </div>
                        <div id="borrowing-history-content">
                            <!-- Borrowing history will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Manage Books Modal -->
        <div id="manage-books-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[80vh] overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-gray-900">Manage Books</h2>
                            <button id="close-manage-books" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <div class="mb-4">
                            <div class="flex flex-col md:flex-row gap-4">
                                <input type="text" id="manage-search" placeholder="Search books..." class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                                <select id="manage-category-filter" class="px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                                    <option value="">All Categories</option>
                                    <option value="Fiction">Fiction</option>
                                    <option value="Non-Fiction">Non-Fiction</option>
                                    <option value="Science">Science</option>
                                    <option value="History">History</option>
                                    <option value="Technology">Technology</option>
                                </select>
                                <button id="manage-search-btn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
                                    <i class="fas fa-search mr-2"></i>Search
                                </button>
                            </div>
                        </div>
                        <div id="manage-books-content">
                            <!-- Books management will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Book Modal -->
        <div id="add-book-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-lg shadow-xl max-w-md w-full">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-gray-900">Add New Book</h2>
                            <button id="close-add-book" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <form id="add-book-form">
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Title</label>
                                <input type="text" id="book-title" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Author</label>
                                <input type="text" id="book-author" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" required>
                            </div>
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">ISBN</label>
                                <input type="text" id="book-isbn" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                            </div>
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                                <select id="book-category" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                                    <option value="Fiction">Fiction</option>
                                    <option value="Non-Fiction">Non-Fiction</option>
                                    <option value="Science">Science</option>
                                    <option value="History">History</option>
                                    <option value="Technology">Technology</option>
                                </select>
                            </div>
                            <div class="mb-6">
                                <label class="block text-sm font-medium text-gray-700 mb-2">Published Year</label>
                                <input type="number" id="book-year" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                            </div>
                            <button type="submit" class="w-full bg-primary text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-plus mr-2"></i>Add Book
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Welcome Section (shown when not logged in) -->
        <div id="welcome-section" class="text-center py-16">
            <div class="max-w-3xl mx-auto">
                <i class="fas fa-book text-6xl text-primary mb-6"></i>
                <h1 class="text-4xl font-bold text-gray-900 mb-4">Welcome to Library Management System</h1>
                <p class="text-xl text-gray-600 mb-8">A comprehensive solution for managing library operations, book lending, and user interactions.</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <i class="fas fa-search text-3xl text-primary mb-4"></i>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Search & Browse</h3>
                        <p class="text-gray-600">Find books by title, author, category, or ISBN with advanced search capabilities.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <i class="fas fa-book-reader text-3xl text-primary mb-4"></i>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Borrow & Return</h3>
                        <p class="text-gray-600">Easy book borrowing with automatic due date tracking and fine calculation.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <i class="fas fa-chart-bar text-3xl text-primary mb-4"></i>
                        <h3 class="text-lg font-semibold text-gray-900 mb-2">Reports & Analytics</h3>
                        <p class="text-gray-600">Generate comprehensive reports on library usage and borrowing patterns.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2">
        <!-- Toast notifications will appear here -->
    </div>

    <script src="app.js"></script>
</body>
</html>
